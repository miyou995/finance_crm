{% extends "layout/base.html" %} 
{% load static %}
{% load i18n %}
{% load render_table from django_tables2 %}
{% block content %}

<!-- Main Dashboard Section -->
<div class="row g-4">
    <!-- Today's Courses Calendar -->
    <div class="col-lg-7 col-md-12">
        <div class="card shadow-sm h-100">
            <div class="card-header bg-light">
                <h3 class="card-title fw-bold mb-0">{% translate "Calendrier des cours" %}</h3>
            </div>
            <div class="card-body p-4"
                hx-get="{% url 'appointment:appointment_calendar' %}"
                hx-trigger="refresh_table from:body, load"
                hx-swap="innerHTML">
                {% include "snippets/appointment_calender.html" %}
            </div>
        </div>
    </div>

    <!-- Today's Payments -->
    <div class="col-lg-5 col-md-12">
        <div class="card shadow-sm h-100">
            <div class="card-header bg-light">
                <h3 class="card-title fw-bold mb-0">{% translate "Les paiements d'aujourd'hui" %}</h3>
            </div>
            <div class="card-body p-4">
                 {% if ledger_table %}
                    {% render_table ledger_table %}
                {% else %}
                    <p class="text-muted mb-0">{% translate "Aucun paiement pour aujourd'hui." %}</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>



{% endblock content %}

